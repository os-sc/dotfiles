#      ___                      _
#  o  /   \                    | | o
#       __/   __   __   _  _   | |     __,
#  |      \  /    /  \_/ |/ |  |/  |  /  |
#  |_/\___/  \___/\__/   |  |_/|__/|_/\_/|/
#                              |\       /|
#  fancy af edition            |/       \|

##---------
# Variables
##---------

set $terminal urxvtc -fn 'xft:Ubuntu Mono derivative Powerline:pixelsize=21'
set $browser  chromium
set $mod      Mod4

# Workspaces
set $wspace1  "1:Ⅰ"
set $wspace2  "2:Ⅱ"
set $wspace3  "3:Ⅲ"
set $wspace4  "4:Ⅳ"
set $wspace5  "5:Ⅴ"
set $wspace6  "6:Ⅵ"
set $wspace7  "7:Ⅶ"
set $wspace8  "8:Ⅷ"
set $wspace9  "9:Ⅸ"
set $wspace10 "10:Ⅹ"

# Colors
set $black  #272822
set $white  #FFFFFF
set $pink   #F92672
set $blue   #66D9EF
set $green  #A6E22E
set $orange #FD971F
set $yellow #E6DB74
set $purple #AE81FF

##--------------
# Other Settings
##--------------

floating_modifier       $mod
focus_follows_mouse     no
new_window              none
hide_edge_borders       both
font                    pango:System San Francisco Display 14

# class                 border  bg.    text    indicator child_border
client.focused          $black  $black $green  $blue     $blue
client.focused_inactive $black  $black $blue   $black    $black
client.unfocused        $black  $black $white  $black    $black

client.background       #ff0000

##---------------
# Special Windows
##---------------

for_window [instance="dropdown"] floating enable
for_window [instance="dropdown"] resize set 1300 800
for_window [instance="dropdown"] move scratchpad
exec --no-startup-id $terminal -name dropdown

for_window [instance="sound"] floating enable
for_window [instance="sound"] resize set 600 800
for_window [instance="sound"] move scratchpad
exec --no-startup-id $terminal -name sound -e alsamixer

##---
# Bar
##---

bar {
    position top
    tray_output primary
    status_command i3blocks -c ~/.config/i3/i3blocks.conf
    strip_workspace_numbers yes
    colors {
        background $black
        #                  border             background         text
        focused_workspace  $blue              $blue              $black
        inactive_workspace $black             $black             $white
        active_workspace   $black             $black             $blue
        urgent_workspace   $pink              $pink              $black
        binding_mode       $black             $orange            $black
    }
}

##----
# Keys
##----

# Meta
bindsym $mod+shift+c               reload
bindsym $mod+shift+r               restart
bindsym $mod+x                     mode "default"; exec ~/.config/i3/scripts/lock.sh screenshot pixelate lock

# Programs
bindsym $mod+space                 exec $terminal
bindsym $mod+shift+space           exec $browser
bindsym $mod+d                     exec rofi -show run
bindsym $mod+a                     [instance="sound"] scratchpad show; [instance="sound"] move position center
bindsym $mod+u                     [instance="dropdown"] scratchpad show; [instance="dropdown"] move position center

# Special keys
bindsym XF86MonBrightnessUp        exec light -A 10
bindsym XF86MonBrightnessDown      exec light -U 10

# Window manipulation
bindsym $mod+shift+q               kill
bindsym $mod+Return                focus mode_toggle
bindsym $mod+shift+Return          floating toggle
bindsym $mod+semicolon             exec i3-msg border pixel 1
bindsym --release $mod+semicolon   exec i3-msg border pixel 0

# Layout
bindsym $mod+g                     split h
bindsym $mod+v                     split v
bindsym $mod+f                     fullscreen toggle
bindsym $mod+e                     layout toggle split
bindsym $mod+s                     layout stacking
bindsym $mod+w                     layout tabbed

bindsym $mod+p                     exec "scrot --quality 100 ~/screenshots/%a-%d-%b-%H:%M:%S.jpg; notify-send -t 500 'Screenshot saved' $(date +'%a-%d-%b-%H:%M:%S.jpg')"
bindsym $mod+shift+s               exec "bash ~/.config/i3/scripts/shutdown.sh"

# Window Resize
bindsym $mod+Left                  resize shrink width  20 px or 20 ppt
bindsym $mod+Right                 resize grow   height 20 px or 20 ppt
bindsym $mod+Down                  resize grow   width  20 px or 20 ppt
bindsym $mod+Up                    resize shrink height 20 px or 20 ppt

bindsym $mod+shift+Right           resize grow   height  5 px or  5 ppt
bindsym $mod+shift+Left            resize shrink width   5 px or  5 ppt
bindsym $mod+shift+Down            resize grow   width   5 px or  5 ppt
bindsym $mod+shift+Up              resize shrink height  5 px or  5 ppt

# Window movement
bindsym $mod+h                     exec i3-msg border pixel 1; focus left
bindsym $mod+j                     exec i3-msg border pixel 1; focus down
bindsym $mod+k                     exec i3-msg border pixel 1; focus up
bindsym $mod+l                     exec i3-msg border pixel 1; focus right
bindsym --release $mod+h           exec i3-msg border pixel 0
bindsym --release $mod+j           exec i3-msg border pixel 0
bindsym --release $mod+k           exec i3-msg border pixel 0
bindsym --release $mod+l           exec i3-msg border pixel 0

bindsym $mod+shift+h               exec i3-msg border pixel 1; move left
bindsym $mod+shift+j               exec i3-msg border pixel 1; move down
bindsym $mod+shift+k               exec i3-msg border pixel 1; move up
bindsym $mod+shift+l               exec i3-msg border pixel 1; move right
bindsym --release $mod+shift+h     exec i3-msg border pixel 0
bindsym --release $mod+shift+j     exec i3-msg border pixel 0
bindsym --release $mod+shift+k     exec i3-msg border pixel 0
bindsym --release $mod+shift+l     exec i3-msg border pixel 0

# Workspaces
bindsym $mod+1                     workspace $wspace1
bindsym $mod+2                     workspace $wspace2
bindsym $mod+3                     workspace $wspace3
bindsym $mod+4                     workspace $wspace4
bindsym $mod+5                     workspace $wspace5
bindsym $mod+6                     workspace $wspace6
bindsym $mod+7                     workspace $wspace7
bindsym $mod+8                     workspace $wspace8
bindsym $mod+9                     workspace $wspace9
bindsym $mod+0                     workspace $wspace10

bindsym $mod+shift+1               move container to workspace $wspace1
bindsym $mod+shift+2               move container to workspace $wspace2
bindsym $mod+shift+3               move container to workspace $wspace3
bindsym $mod+shift+4               move container to workspace $wspace4
bindsym $mod+shift+5               move container to workspace $wspace5
bindsym $mod+shift+6               move container to workspace $wspace6
bindsym $mod+shift+7               move container to workspace $wspace7
bindsym $mod+shift+8               move container to workspace $wspace8
bindsym $mod+shift+9               move container to workspace $wspace9
bindsym $mod+shift+0               move container to workspace $wspace10

##------------------
# Autostart programs
##------------------

exec_always feh --bg-scale "$HOME/.wallpapers/wallpaper.png"

exec --no-startup-id compton -b
exec --no-startup-id dunst
exec --no-startup-id nm-applet

